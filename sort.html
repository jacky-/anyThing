<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>sort</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="mainCont">
	<div class="operation">
		<a id="btnSort" class="btnSort sort" href="javascript:;">▲点击升序排列</a>
		<span class="info" id="info"></span>
	</div>
	<ul class="list_data" id="list_data">
		<!-- <li class="item_data"><i>￥</i><span class="price">10</span><span class="num">1</span></li>
		<li class="item_data"><i>￥</i><span class="price">20</span><span class="num">2</span></li>
		<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">3</span></li>
		<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">4</span></li>
		<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">5</span></li>
		<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">6</span></li>
		<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">7</span></li>
		<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">8</span></li>
		<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">9</span></li>
		<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">10</span></li>
		<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">11</span></li>
		<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">12</span></li>
		<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">13</span></li> -->
	</ul>
</div>
</body>
<script src="http://libs.baidu.com/jquery/1.7.2/jquery.min.js"></script>
<script src="./art-template.js"></script>
<script src="./sortFun.js"></script>
<script id="test" type="text/html">
	<li class="item_data"><i>￥</i><span class="price">10</span><span class="num">1</span></li>
	<li class="item_data"><i>￥</i><span class="price">20</span><span class="num">2</span></li>
 <%for (var i=0;i<350;i++) {%>
	<li class="item_data"><i>￥</i><span class="price">10</span><span class="num"><%=i+3%></span></li>
 <%}%>
</script>
<script>
$(function(){
	var _html = template('test'),
		$list_data = $('#list_data'),
		$btnSort = $('#btnSort'),
		$info = $('#info');
	$list_data.html(_html);
	var fnSortDom = function(flag){
		var _$doms = $list_data.find('.item_data');
		var oDate = new Date();
		var newDoms = [].insertSort.call(_$doms,function(a,b){
			var temp = flag?($(a).find('.price').html()-0)>($(b).find('.price').html()-0):($(b).find('.price').html()-0)>($(a).find('.price').html()-0);
			return temp;
		});
		var  nDate = new Date();
		alert(nDate-oDate)
		return newDoms;
	}
	/**
	 * 排序按钮点击事件
	 * @param  {[boolean]} ){		var flag          [true 顺序; false 逆序]
	 */
	$btnSort.on('click',function(){
		var flag,$this;//顺序
		$this = $(this);
		if($this.hasClass('sort')){
			$this.removeClass('sort').addClass('revert').html('▼点击降序排列');
			$info.html('已按价格升序排列所有数据');
			flag = true;
		}else if($this.hasClass('revert')){
			$this.removeClass('revert').addClass('sort').html('▲点击升序排列');
			$info.html('已按价格降序排列所有数据');
			flag = false;
		}
		var _$sortDoms = fnSortDom(flag);
		$list_data.empty().append(_$sortDoms);
	});
})
</script>
</html>